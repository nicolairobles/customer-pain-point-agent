# Story 2.1.4 – Write unit tests for Twitter tool

## Purpose
Deliver comprehensive automated coverage for the Twitter search tool and parser to ensure ongoing reliability as APIs and prompts evolve.

## Acceptance Criteria
- [ ] Tests cover success responses, zero-result queries, rate-limit errors, authentication failures, and malformed payloads.
- [ ] Fixtures reuse anonymized sample tweets with varied metadata to exercise normalization paths.
- [ ] Test suite includes assertions on logging side effects (masked identifiers, retry notices).
- [ ] Coverage report shows ≥80% line coverage for `twitter_tool.py` and associated parser modules.
- [ ] Tests run in CI without requiring live Twitter credentials by default.

## Test Criteria
- [ ] **Pytest Suite**: New tests live under `tests/` with descriptive names and factory helpers for payloads.
- [ ] **CI Dry Run**: Execute `pytest` locally and capture output proving deterministic pass/fail behavior without network access.
- [ ] **Mutation/Regression Test**: Introduce a deliberate schema regression locally to confirm tests fail when normalization changes unexpectedly.

