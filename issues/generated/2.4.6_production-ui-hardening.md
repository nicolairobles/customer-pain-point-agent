# 2.4.6 – Production UI hardening

## Summary (Work Breakdown)

- **Description:** Implement production-ready UI improvements based on the 2.4.5 review recommendations
- **Work Package:** 3.4.6 UI Production Hardening
- **Duration:** 4 hours
- **Story Points:** 3
- **Owner(s):** Al

- **Story Detail:** TBD (create `docs/stories/2.4.6-production-ui-hardening.md`)

## Detailed Story

# Story 2.4.6 – Production UI hardening

## Purpose
Apply the prioritized UI recommendations from Story 2.4.5 so the Streamlit app behaves predictably, hides debug-only UI by default, and has a repeatable pre-release UI QA checklist.

## Scope (From 2.4.5 Recommendations)
- Migrate Analyze interaction to `st.form` submission for more predictable reruns/keyboard flow.
- Centralize “production mode” UI gating (debug panels, verbose metadata, experimental UI) behind a single setting.
- Add a short UI QA checklist under `docs/ui/` for repeatable release checks.

## Acceptance Criteria
- [ ] Convert the query input + Analyze flow to a `st.form` submission (no accidental reruns while typing).
- [ ] Introduce a single “production mode” setting and use it to gate debug-only UI (default: production mode on / debug UI off).
- [ ] Update debug panel gating to use the centralized setting (not ad-hoc env parsing in multiple places).
- [ ] Add a release UI QA checklist under `docs/ui/` (cross-browser, responsive, rerun stability, error/empty states).
- [ ] Verify the app still runs end-to-end (agent available) and renders results correctly.

## Test Criteria
- [ ] **Rerun Stability**: Typing into the query input does not trigger agent execution and does not cause layout flicker; only form submit runs the analysis.
- [ ] **Production Defaults**: Debug UI is hidden by default; can be enabled intentionally via config/env.
- [ ] **Docs**: QA checklist is readable and covers the key UI flows for release readiness.
