# 1.2.4 – Write unit tests for Reddit tool

## Summary (Work Breakdown)

- **Description:** Test cases for search, parsing, error conditions
- **Work Package:** 2.2.4 Unit Tests for Reddit Tool
- **Duration:** 2 hours
- **Story Points:** 3
- **Owner(s):** Amanda

- **Story Detail:** https://github.com/nicolairobles/customer-pain-point-agent/blob/master/docs/stories/1.2.4-write-unit-tests-for-reddit-tool.md

## Detailed Story

# Story 1.2.4 – Write Unit Tests for Reddit Tool

## Purpose
Guarantee the Reddit tool’s interface and parsing remain stable through automated testing.

## Acceptance Criteria
- [x] Test suite covers happy path, empty results, API errors, and rate limit responses.
- [x] Mocks/stubs isolate tests from live Reddit; fixtures stored under `tests/fixtures/reddit/`.
- [x] Assertions validate shape and content of normalized data.
- [x] Tests run via `pytest` and pass locally and in CI.
- [x] Code coverage for `src/tools/reddit_tool.py` exceeds 80%.

## Test Criteria
- [x] **Automated Execution**: `pytest tests/test_reddit_tool.py tests/test_tools.py` completes with exit code 0.
- [ ] **Mutation Testing (optional)**: Run mutmut (or similar) to ensure tests detect intentional faults (deferred).
- [ ] **CI Integration**: Confirm test job succeeds on CI pipeline or simulated run.
